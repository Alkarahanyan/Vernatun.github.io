<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vernatun: Armenian Club</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #d4a373; /* –ë–µ–∂–µ–≤—ã–π –ø–µ—Å–æ—á–Ω—ã–π */
            --accent: #e63946; /* –ö—Ä–∞—Å–Ω—ã–π –≥—Ä–∞–Ω–∞—Ç–æ–≤—ã–π */
            --glass-bg: rgba(30, 30, 30, 0.85);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text: #f1faee;
            --success: #2a9d8f;
            --error: #e63946;
            --sidebar-width: 70px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: #000;
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: row;
            transition: background-image 0.6s ease-in-out;
            background-size: cover;
            background-position: center;
        }

        .bg-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
            z-index: 0; pointer-events: none;
        }

        /* --- SIDE NAV --- */
        .side-nav {
            z-index: 20; width: var(--sidebar-width); height: 100%;
            background: rgba(15, 15, 15, 0.9); backdrop-filter: blur(15px);
            border-right: 1px solid var(--glass-border);
            display: flex; flex-direction: column; align-items: center; padding-top: 20px; flex-shrink: 0;
        }
        .nav-item {
            width: 100%; height: 60px; display: flex; justify-content: center; align-items: center;
            color: #666; transition: 0.3s; cursor: pointer; position: relative;
        }
        .nav-item i { font-size: 1.4rem; }
        .nav-item.active { color: var(--primary); }
        .nav-item.active::before {
            content: ''; position: absolute; left: 0; top: 15%; bottom: 15%; width: 3px;
            background: var(--primary); border-radius: 0 4px 4px 0;
        }

        .app-content {
            flex: 1; display: flex; flex-direction: column; position: relative; z-index: 10; height: 100%; overflow: hidden;
        }

        header {
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center;
            background: rgba(20, 20, 20, 0.3); border-bottom: 1px solid var(--glass-border);
        }
        .brand { font-weight: bold; font-size: 1.1rem; letter-spacing: 1px; }
        .xp-badge {
            background: linear-gradient(45deg, #f1c40f, #e67e22); color: #000;
            padding: 4px 12px; border-radius: 20px; font-size: 0.9rem; font-weight: bold;
            box-shadow: 0 0 10px rgba(241, 196, 15, 0.3);
        }

        main {
            flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 50px; scroll-behavior: smooth;
        }

        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2 { margin-bottom: 20px; color: var(--primary); text-shadow: 0 2px 4px rgba(0,0,0,0.8); display: flex; align-items: center; gap: 10px;}

        .glass-panel {
            background: var(--glass-bg); backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border); border-radius: 16px; padding: 20px;
            margin-bottom: 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* --- SCHEDULE STYLES --- */
        .schedule-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .schedule-card {
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            border-radius: 12px; padding: 15px; cursor: pointer; transition: 0.2s;
            position: relative; overflow: hidden; display: flex; flex-direction: column; justify-content: space-between;
            min-height: 140px;
        }
        .schedule-card:active { transform: scale(0.98); }
        .schedule-card::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: var(--primary); }
        .sc-date { font-size: 0.8rem; color: #aaa; margin-bottom: 5px; display: flex; align-items: center; gap: 5px; }
        .sc-title { font-weight: bold; font-size: 1rem; margin-bottom: 5px; line-height: 1.3; }
        .sc-loc { font-size: 0.75rem; color: var(--primary); margin-top: auto; display: flex; align-items: center; gap: 5px; }

        /* Table Styles for Schedule */
        .plan-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 0.9rem; }
        .plan-table th, .plan-table td { padding: 10px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .plan-table th { color: var(--primary); font-weight: bold; text-transform: uppercase; font-size: 0.8rem; }
        .plan-table td:first-child { font-family: monospace; color: var(--accent); width: 60px; }
        
        /* Admin Inputs */
        .admin-controls { display: flex; gap: 10px; margin-top: 10px; }
        .admin-input { background: rgba(0,0,0,0.3); border: 1px solid #444; color: #fff; padding: 8px; border-radius: 6px; flex: 1; outline: none; }
        .admin-btn-small { background: var(--primary); color: #000; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-weight: bold; }

        /* --- LEARN STYLES --- */
        .sub-nav { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 5px; }
        .sub-tab-btn { background: rgba(255,255,255,0.1); border: 1px solid transparent; color: #aaa; padding: 8px 16px; border-radius: 20px; cursor: pointer; white-space: nowrap; font-size: 0.9rem; }
        .sub-tab-btn.active { background: var(--primary); color: #000; font-weight: bold; }
        .learn-content { display: none; }
        .learn-content.active { display: block; animation: fadeIn 0.3s; }
        
        .letters-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 10px; }
        .letter-card { background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); border-radius: 12px; padding: 10px; text-align: center; cursor: pointer; transition: 0.2s; position: relative; }
        .letter-big { font-size: 1.5rem; color: var(--primary); font-weight: bold; }
        .letter-trans { font-size: 0.75rem; color: #888; margin-top: 2px; }
        .letter-audio-mini { position: absolute; top: 5px; right: 5px; font-size: 0.7rem; color: #555; }
        
        .level-separator { font-size: 0.8rem; text-transform: uppercase; color: var(--accent); font-weight: bold; margin: 15px 0 5px; padding-bottom: 5px; border-bottom: 1px solid var(--accent); letter-spacing: 1px; }
        .word-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .word-left { display: flex; align-items: center; gap: 10px; }
        .audio-btn { width: 28px; height: 28px; border-radius: 50%; background: rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; color: var(--primary); cursor: pointer; font-size: 0.8rem; }
        .topic-header { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; margin-bottom: 5px;}
        .topic-body { display: none; padding: 10px; background: rgba(0,0,0,0.2); border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; margin-bottom: 10px; }
        .topic-body.open { display: block; }

        /* --- EXERCISES UI --- */
        .ex-progress-container { width: 100%; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        .ex-progress-bar { height: 100%; background: var(--success); width: 0%; transition: width 0.3s; }
        .ex-question-text { font-size: 1.3rem; margin-bottom: 20px; font-weight: bold; min-height: 60px; display: flex; align-items: center; justify-content: center; text-align: center; }
        .ex-instruction { color: #aaa; font-size: 0.9rem; margin-bottom: 10px; text-align: center; }

        .quiz-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .quiz-option { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 12px; cursor: pointer; text-align: center; transition: 0.2s; border: 2px solid transparent; font-weight: bold; font-size: 1.1rem; }
        .quiz-option.selected { border-color: var(--primary); background: rgba(212, 163, 115, 0.2); }
        .quiz-option.correct { background: rgba(42, 157, 143, 0.8); border-color: var(--success); }
        .quiz-option.wrong { background: rgba(230, 57, 70, 0.8); border-color: var(--error); }

        .sentence-area { min-height: 50px; border-bottom: 2px solid rgba(255,255,255,0.2); margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 8px; padding: 5px; justify-content: center; }
        .word-bank { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .word-chip { background: rgba(255,255,255,0.15); padding: 8px 16px; border-radius: 20px; cursor: pointer; font-weight: 500; user-select: none; border: 1px solid transparent; }
        .word-chip.used { opacity: 0; pointer-events: none; }
        .word-chip.in-sentence { background: var(--primary); color: #000; animation: popIn 0.2s; }
        .ex-input { width: 100%; background: transparent; border: none; border-bottom: 2px solid #555; color: #fff; font-size: 1.5rem; text-align: center; padding: 10px; outline: none; margin-bottom: 20px; }
        
        .feedback-sheet { display: none; margin-top: 20px; padding: 15px; border-radius: 12px; animation: slideUp 0.3s; }
        .feedback-sheet.success { background: rgba(42, 157, 143, 0.2); border: 1px solid var(--success); }
        .feedback-sheet.error { background: rgba(230, 57, 70, 0.2); border: 1px solid var(--error); }
        
        /* --- GAME CLUB UI --- */
        .game-mode-card { background: rgba(255,255,255,0.05); border: 1px solid transparent; padding: 15px; border-radius: 12px; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 15px; margin-bottom: 10px; }
        .game-mode-card.selected { border-color: var(--primary); background: rgba(212, 163, 115, 0.1); }
        .game-icon { width: 50px; height: 50px; background: rgba(0,0,0,0.3); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; color: var(--primary); }
        .active-game-card { text-align: center; padding: 40px 20px; position: relative; overflow: hidden; background: linear-gradient(135deg, rgba(212, 163, 115, 0.1), rgba(0,0,0,0.5)); }
        .game-word { font-size: 2.5rem; font-weight: bold; margin: 20px 0; color: #fff; text-shadow: 0 0 20px var(--primary); }
        .game-timer { font-size: 1.5rem; font-family: monospace; color: var(--accent); border: 2px solid var(--accent); width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin: 0 auto; }

        /* --- MODAL --- */
        .modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1000; display: none; justify-content: center; align-items: center; }
        .modal-content { width: 95%; max-width: 500px; height: auto; max-height: 85vh; background: #1a1a1a; border-radius: 20px; padding: 25px; display: flex; flex-direction: column; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid var(--glass-border); animation: zoomIn 0.3s ease; overflow: hidden; }
        .modal-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; }
        .close-modal { font-size: 1.5rem; color: #888; cursor: pointer; padding: 5px; }
        .modal-scroll { overflow-y: auto; flex: 1; padding-right: 5px; }
        .modal-tabs { display: flex; gap: 10px; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .m-tab { padding: 5px 10px; color: #888; cursor: pointer; font-weight: bold; font-size: 0.9rem; }
        .m-tab.active { color: var(--primary); border-bottom: 2px solid var(--primary); }
        .m-section { display: none; }
        .m-section.active { display: block; }

        .config-select { width: 100%; background: rgba(0,0,0,0.5); color: #fff; padding: 10px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #555; }
        .primary-btn { width: 100%; background: var(--primary); color: #000; border: none; padding: 12px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .check-btn { width: 100%; background: var(--success); color: #fff; border: none; padding: 15px; border-radius: 12px; font-weight: bold; font-size: 1.1rem; margin-top: 20px; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; box-shadow: 0 5px 15px rgba(42, 157, 143, 0.4); }
        .check-btn:disabled { background: #555; cursor: not-allowed; box-shadow: none; color: #888; }
        .next-btn { background: var(--primary); color: #000; box-shadow: 0 5px 15px rgba(212, 163, 115, 0.4); display: none; }
        
        /* Admin Panel styles */
        .admin-panel { margin-top: 20px; padding: 15px; border: 1px dashed #555; border-radius: 10px; background: rgba(0,0,0,0.2); }
        .admin-header { font-size: 0.9rem; color: var(--accent); font-weight: bold; margin-bottom: 10px; }

    </style>
</head>
<body>

    <div class="bg-overlay"></div>

    <!-- SIDE NAV -->
    <nav class="side-nav">
        <div style="margin-bottom: 30px; font-weight: bold; color: var(--accent); font-size: 1.5rem;">V</div>
        <div class="nav-item active" onclick="switchTab('schedule', 0, this)"><i class="far fa-calendar-alt"></i></div>
        <div class="nav-item" onclick="switchTab('learn', 1, this)"><i class="fas fa-book"></i></div>
        <div class="nav-item" onclick="switchTab('exercises', 2, this)"><i class="fas fa-puzzle-piece"></i></div>
        <div class="nav-item" onclick="switchTab('games', 3, this)"><i class="fas fa-dice"></i></div>
        <div class="nav-item" onclick="switchTab('voice', 4, this)"><i class="fas fa-microphone-alt"></i></div>
        <div class="nav-item" onclick="switchTab('profile', 5, this)"><i class="far fa-user"></i></div>
    </nav>

    <!-- CONTENT -->
    <div class="app-content">
        <header>
            <div class="brand">VERN<span style="color:var(--accent)">A</span>TUN</div>
            <div class="xp-badge">‚ö° <span id="xp-val">120</span> XP</div>
        </header>

        <main>
            <!-- 1. SCHEDULE TAB -->
            <div id="tab-schedule" class="section active">
                <h2>üìÖ –ë–ª–∏–∂–∞–π—à–∏–µ –≤—Å—Ç—Ä–µ—á–∏</h2>
                <div class="schedule-grid" id="schedule-container">
                    <!-- Injected via JS -->
                </div>
            </div>

            <!-- 2. LEARN TAB -->
            <div id="tab-learn" class="section">
                <h2>üìö –£—á–µ–±–Ω—ã–µ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
                <div class="sub-nav">
                    <button class="sub-tab-btn active" onclick="switchLearnTab('letters', this)">üá¶üá≤ –ê–ª—Ñ–∞–≤–∏—Ç</button>
                    <button class="sub-tab-btn" onclick="switchLearnTab('words', this)">üìñ –°–ª–æ–≤–∞</button>
                    <button class="sub-tab-btn" onclick="switchLearnTab('phrases', this)">üí¨ –§—Ä–∞–∑—ã</button>
                </div>
                
                <!-- Letters -->
                <div id="learn-letters" class="learn-content active">
                    <div class="glass-panel">
                        <div class="letters-grid" id="alphabet-grid"></div>
                    </div>
                </div>

                <!-- Words -->
                <div id="learn-words" class="learn-content">
                    <div class="topic-header" onclick="toggleTopic(this)"><span>üë®‚Äçüë©‚Äçüëß –°–µ–º—å—è (Family)</span><i class="fas fa-chevron-down"></i></div>
                    <div class="topic-body">
                        <div class="level-separator">A1 - –ù–∞—á–∞–ª—å–Ω—ã–π</div>
                        <div class="word-item"><div class="word-left"><div class="audio-btn" onclick="playAudio('’Ñ’°’µ÷Ä')"><i class="fas fa-volume-up"></i></div><div><div class="word-orig">’Ñ’°’µ÷Ä</div><div class="word-trans">[Mayr]</div></div></div><div class="word-ru">–ú–∞—Ç—å</div></div>
                        <div class="word-item"><div class="word-left"><div class="audio-btn" onclick="playAudio('’Ä’°’µ÷Ä')"><i class="fas fa-volume-up"></i></div><div><div class="word-orig">’Ä’°’µ÷Ä</div><div class="word-trans">[Hayr]</div></div></div><div class="word-ru">–û—Ç–µ—Ü</div></div>
                    </div>
                </div>
                
                <!-- Phrases (UPDATED) -->
                <div id="learn-phrases" class="learn-content">
                     <div class="topic-header" onclick="toggleTopic(this)"><span>üí¨ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ</span><i class="fas fa-chevron-down"></i></div>
                     <div class="topic-body open">
                         <div class="level-separator">A1 - –ë–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã</div>
                         <div class="word-item">
                             <div class="word-left">
                                 <div class="audio-btn" onclick="playAudio('‘≤’°÷Ä’•÷Ç, ’´’¥ ’°’∂’∏÷Ç’∂’® ‘±’∂’∂’° ’ß')"><i class="fas fa-volume-up"></i></div>
                                 <div><div class="word-orig">‘≤’°÷Ä’•÷Ç, ’´’¥ ’°’∂’∏÷Ç’∂’®... ’ß:</div><div class="word-trans">[Barev, im anun'e ... e]</div></div>
                             </div>
                             <div class="word-ru">–ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç...</div>
                         </div>
                         <div class="word-item">
                            <div class="word-left">
                                <div class="audio-btn" onclick="playAudio('’à÷Ä’ø’•’≤’´’û÷Å ’•’Ω')"><i class="fas fa-volume-up"></i></div>
                                <div><div class="word-orig">’à÷Ä’ø’•’≤’´’û÷Å ’•’Ω:</div><div class="word-trans">[Vorteghic es?]</div></div>
                            </div>
                            <div class="word-ru">–û—Ç–∫—É–¥–∞ —Ç—ã?</div>
                        </div>
                        
                        <div class="level-separator">A2 - –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞</div>
                        <div class="word-item">
                            <div class="word-left">
                                <div class="audio-btn" onclick="playAudio('‘ª’∂’π’∫’•’û’Ω ’•’∂ ’£’∏÷Ä’Æ’•÷Ä’®')"><i class="fas fa-volume-up"></i></div>
                                <div><div class="word-orig">‘ª’∂’π’∫’•’û’Ω ’•’∂ ’£’∏÷Ä’Æ’•÷Ä’®:</div><div class="word-trans">[Inchpes en gorcery?]</div></div>
                            </div>
                            <div class="word-ru">–ö–∞–∫ –¥–µ–ª–∞? (–ö–∞–∫ –∏–¥—É—Ç –¥–µ–ª–∞?)</div>
                        </div>
                     </div>
                </div>
            </div>

            <!-- 3. EXERCISES TAB (RESTORED) -->
            <div id="tab-exercises" class="section">
                <h2>üß© –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</h2>
                <div id="ex-setup" class="glass-panel">
                    <p style="margin-bottom:15px; color:#aaa;">–¢–µ–º—ã: –°–µ–º—å—è, –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è. 5 –≤–æ–ø—Ä–æ—Å–æ–≤.</p>
                    <button class="primary-btn" onclick="startExercise()">–ù–∞—á–∞—Ç—å –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
                </div>
                <div id="ex-interface" class="glass-panel" style="display:none;">
                    <div style="display:flex; justify-content:space-between; color:#888; margin-bottom:15px; align-items:center;">
                        <span id="q-counter">–í–æ–ø—Ä–æ—Å 1/5</span>
                        <i class="fas fa-times" style="cursor:pointer;" onclick="stopExercise()"></i>
                    </div>
                    <div class="ex-progress-container"><div class="ex-progress-bar" id="ex-prog"></div></div>
                    <div class="ex-instruction" id="ex-inst">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</div>
                    <div class="ex-question-text" id="ex-text">–í–æ–ø—Ä–æ—Å...</div>
                    <div id="ex-content"></div>
                    <div class="feedback-sheet" id="ex-feedback">
                        <div class="fb-title" id="fb-title"></div>
                        <div class="fb-text" id="fb-msg"></div>
                    </div>
                    <button class="check-btn" id="btn-check" onclick="checkAnswer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    <button class="check-btn next-btn" id="btn-next" onclick="nextQuestion()">–î–∞–ª–µ–µ <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- 4. GAMES TAB (RESTORED) -->
            <div id="tab-games" class="section">
                <h2>üé≤ –ò–≥—Ä–æ–≤–æ–π –ö–ª—É–±</h2>
                <div id="game-lobby" class="glass-panel">
                    <h3 style="margin-bottom:15px; font-size:1rem; color:#aaa;">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É</h3>
                    <div class="game-mode-card selected" onclick="selectGameMode(this, 'alias')">
                        <div class="game-icon"><i class="fas fa-comments"></i></div>
                        <div><b>Alias</b><br><span style="font-size:0.8rem; color:#888;">–û–±—ä—è—Å–Ω–∏ —Å–ª–æ–≤–∞</span></div>
                    </div>
                    <div class="game-mode-card" onclick="selectGameMode(this, 'crocodile')">
                        <div class="game-icon"><i class="fas fa-hands"></i></div>
                        <div><b>–ö—Ä–æ–∫–æ–¥–∏–ª</b><br><span style="font-size:0.8rem; color:#888;">–¢–æ–ª—å–∫–æ –∂–µ—Å—Ç—ã</span></div>
                    </div>
                    <button class="primary-btn" onclick="initGame()" style="margin-top:15px;">–ù–∞—á–∞—Ç—å –ò–≥—Ä—É</button>
                </div>

                <div id="game-active" class="glass-panel active-game-card" style="display:none;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                        <span style="color:var(--primary)">–ö–æ–º 1: <b id="score-1">0</b></span>
                        <span style="color:var(--accent)">–ö–æ–º 2: <b id="score-2">0</b></span>
                    </div>
                    <div class="game-timer" id="timer-display">60</div>
                    <div class="game-word" id="current-word">???</div>
                    <div style="color:#aaa; font-size:0.9rem; margin-bottom:20px;" id="game-rule-text">...</div>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                        <button class="primary-btn" style="background:#333;" onclick="handleGameGuess(false)">–ü—Ä–æ–ø—É—Å–∫</button>
                        <button class="primary-btn" onclick="handleGameGuess(true)">–£–≥–∞–¥–∞–ª–∏!</button>
                    </div>
                    <button style="background:transparent; border:none; color:#555; margin-top:20px; text-decoration:underline;" onclick="exitGame()">–ó–∞–∫–æ–Ω—á–∏—Ç—å –∏–≥—Ä—É</button>
                </div>
            </div>

            <div id="tab-voice" class="section"><h2>üéôÔ∏è AI Voice</h2></div>
            <div id="tab-profile" class="section"><h2>üèÜ –ü—Ä–æ—Ñ–∏–ª—å</h2></div>
        </main>
    </div>

    <!-- MEETING MODAL (UPDATED) -->
    <div class="modal-backdrop" id="meetingModal">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h2 id="m-title" style="margin-bottom:5px; font-size:1.2rem;">...</h2>
                    <p id="m-desc" style="color:#888; font-size:0.8rem; margin:0;">...</p>
                </div>
                <div class="close-modal" onclick="closeModal('meetingModal')">&times;</div>
            </div>

            <div class="modal-tabs">
                <div class="m-tab active" onclick="switchMTab(0)">‚è≥ –ü–ª–∞–Ω</div>
                <div class="m-tab" onclick="switchMTab(1)">üìé –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</div>
            </div>

            <div class="modal-scroll">
                <!-- Timeline Tab -->
                <div id="mt-0" class="m-section active">
                    <table class="plan-table" id="plan-table-body">
                        <thead><tr><th>–í—Ä–µ–º—è</th><th>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th></tr></thead>
                        <tbody><!-- Injected via JS --></tbody>
                    </table>
                    
                    <div class="admin-panel">
                        <div class="admin-header"><i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–æ—Ä –ø–ª–∞–Ω–∞</div>
                        <div class="admin-controls">
                            <input type="time" class="admin-input" id="admin-time" value="20:00">
                            <input type="text" class="admin-input" id="admin-act" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–∞">
                        </div>
                        <button class="primary-btn" style="margin-top:10px; font-size:0.9rem; padding:8px;" onclick="addTimelineRow()">–î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç</button>
                    </div>
                </div>
                
                <!-- Materials Tab -->
                <div id="mt-1" class="m-section">
                    <div id="m-files-list"></div>
                    
                    <div class="admin-panel">
                        <div class="admin-header"><i class="fas fa-link"></i> –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª</div>
                        <div class="admin-controls">
                            <input type="text" class="admin-input" id="admin-link-url" placeholder="URL (Youtube/Site)">
                            <input type="text" class="admin-input" id="admin-link-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
                        </div>
                         <button class="primary-btn" style="margin-top:10px; font-size:0.9rem; padding:8px;" onclick="addMaterialLink()">–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                        
                        <div style="border-top:1px solid #444; margin-top:15px; padding-top:15px;">
                            <div class="file-drop" onclick="document.getElementById('admin-file-input').click()">
                                <i class="fas fa-cloud-upload-alt"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
                            </div>
                            <input type="file" id="admin-file-input" style="display:none" onchange="handleFileUpload(this)">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- LETTER MODAL -->
    <div class="modal-backdrop" id="letterModal">
        <div class="modal-content" style="max-height:50vh;">
            <div class="modal-header">
                <span style="color:#aaa;">–î–µ—Ç–∞–ª–∏ –±—É–∫–≤—ã</span>
                <div class="close-modal" onclick="closeModal('letterModal')">&times;</div>
            </div>
            <div class="letter-detail-view" id="letter-detail-content"></div>
        </div>
    </div>

<script>
    // --- GLOBAL DATA ---
    const alphabet = [
        { l: "‘± ’°", t: "a", ex: "‘±÷Ä’•÷Ç (–°–æ–ª–Ω—Ü–µ)" }, { l: "‘≤ ’¢", t: "b", ex: "‘≤’°÷Ä’•÷Ç (–ü—Ä–∏–≤–µ—Ç)" }, 
        { l: "‘≥ ’£", t: "g", ex: "‘≥’°÷Ä’∏÷Ç’∂ (–í–µ—Å–Ω–∞)" }, { l: "‘¥ ’§", t: "d", ex: "‘¥’°’Ω (–£—Ä–æ–∫)" },
        { l: "‘µ ’•", t: "ye/e", ex: "‘µ÷Ä’°’¶ (–°–æ–Ω)" }, { l: "‘∂ ’¶", t: "z", ex: "‘∂’°’∂’£ (–ó–≤–æ–Ω–æ–∫)" },
        { l: "‘∑ ’ß", t: "e", ex: "‘∑’ª (–°—Ç—Ä–∞–Ω–∏—Ü–∞)" }, { l: "‘∏ ’®", t: "…ô", ex: "‘∏’∂’Ø’•÷Ä (–î—Ä—É–≥)" },
        { l: "‘π ’©", t: "t'", ex: "‘π’´’æ (–ß–∏—Å–ª–æ)" }, { l: "‘∫ ’™", t: "zh", ex: "‘∫’°’¥ (–ß–∞—Å)" },
        { l: "‘ª ’´", t: "i", ex: "‘ª’∂’π’∏÷Ç (–ü–æ—á–µ–º—É)" }, { l: "‘º ’¨", t: "l", ex: "‘º’∏÷Ç’µ’Ω (–°–≤–µ—Ç)" },
        { l: "‘Ω ’≠", t: "kh", ex: "‘Ω’°’≤ (–ò–≥—Ä–∞)" }, { l: "‘æ ’Æ", t: "ts", ex: "‘æ’°’º (–î–µ—Ä–µ–≤–æ)" },
        { l: "‘ø ’Ø", t: "k", ex: "‘ø’°’ø’∏÷Ç (–ö–æ—Ç)" }, { l: "’Ä ’∞", t: "h", ex: "’Ä’°’µ (–ê—Ä–º—è–Ω–∏–Ω)" },
        { l: "’Å ’±", t: "dz", ex: "’Å’∏÷Ç’Ø (–†—ã–±–∞)" }, { l: "’Ç ’≤", t: "gh", ex: "’Ç’•’Ø (–†—É–ª—å)" },
        { l: "’É ’≥", t: "ch", ex: "’É’°’∑ (–û–±–µ–¥)" }, { l: "’Ñ ’¥", t: "m", ex: "’Ñ’°’µ÷Ä (–ú–∞—Ç—å)" },
        { l: "’Ö ’µ", t: "y", ex: "’Ö’∏’© (–°–µ–º—å)" }, { l: "’Ü ’∂", t: "n", ex: "’Ü’°’æ (–ö–æ—Ä–∞–±–ª—å)" },
        { l: "’á ’∑", t: "sh", ex: "’á’∏÷Ç’∂ (–°–æ–±–∞–∫–∞)" }, { l: "’à ’∏", t: "vo/o", ex: "’à’Ω’Ø’´ (–ó–æ–ª–æ—Ç–æ)" },
        { l: "’â ’π", t: "ch'", ex: "’â’∏÷Ä’Ω (–ß–µ—Ç—ã—Ä–µ)" }, { l: "’ä ’∫", t: "p", ex: "’ä’°’∫’´’Ø (–î–µ–¥)" },
        { l: "’ã ’ª", t: "j", ex: "’ã’∏÷Ç÷Ä (–í–æ–¥–∞)" }, { l: "’å ’º", t: "r", ex: "’å’∏÷Ç’Ω (–†—É—Å—Å–∫–∏–π)" },
        { l: "’ç ’Ω", t: "s", ex: "’ç’•÷Ä (–õ—é–±–æ–≤—å)" }, { l: "’é ’æ", t: "v", ex: "’é’°÷Ä’§ (–†–æ–∑–∞)" },
        { l: "’è ’ø", t: "t", ex: "’è’∏÷Ç’∂ (–î–æ–º)" }, { l: "’ê ÷Ä", t: "r'", ex: "’ê’∏’∫’• (–ú–∏–Ω—É—Ç–∞)" },
        { l: "’ë ÷Å", t: "ts'", ex: "’ë’∏÷Ç÷Ä’ø (–•–æ–ª–æ–¥)" }, { l: "’í ÷Ç", t: "v/u", ex: "-" },
        { l: "’ì ÷É", t: "p'", ex: "’ì’∏’≤ (–î–µ–Ω—å–≥–∏)" }, { l: "’î ÷Ñ", t: "k'", ex: "’î’°’≤’°÷Ñ (–ì–æ—Ä–æ–¥)" },
        { l: "’ï ÷Ö", t: "o", ex: "’ï÷Ä (–î–µ–Ω—å)" }, { l: "’ñ ÷Ü", t: "f", ex: "’ñ’∏÷Ç’ø’¢’∏’¨ (–§—É—Ç–±–æ–ª)" }
    ];

    const meetings = [
        { id: 1, date: "15 –û–∫—Ç", time: "19:00", title: "–°–µ–º—å—è (‘∏’∂’ø’°’∂’´÷Ñ)", loc: "Zoom", desc: "–õ–µ–∫—Å–∏–∫–∞: –†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏", plan: [{t:"19:00", a:"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ"}, {t:"19:15", a:"–õ–µ–∫—Å–∏–∫–∞"}, {t:"20:00", a:"–§–∏–Ω–∞–ª"}] },
        { id: 2, date: "18 –û–∫—Ç", time: "20:00", title: "Mafia Night", loc: "Yerevan Cafe", desc: "–ò–≥—Ä–∞–µ–º –≤ –ú–∞—Ñ–∏—é", plan: [{t:"20:00", a:"–ü—Ä–∞–≤–∏–ª–∞"}, {t:"20:30", a:"–ò–≥—Ä–∞ 1"}] },
        { id: 3, date: "22 –û–∫—Ç", time: "19:00", title: "–ï–¥–∞ –∏ –ö—É—Ö–Ω—è", loc: "Zoom", desc: "–õ–µ–∫—Å–∏–∫–∞: –ü—Ä–æ–¥—É–∫—Ç—ã", plan: [] },
        { id: 4, date: "25 –û–∫—Ç", time: "18:00", title: "–ö–∏–Ω–æ–∫–ª—É–±", loc: "Loft Room", desc: "–°–º–æ—Ç—Ä–∏–º '–ú—ã –∏ –Ω–∞—à–∏ –≥–æ—Ä—ã'", plan: [] },
        { id: 5, date: "29 –û–∫—Ç", time: "19:00", title: "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", loc: "Zoom", desc: "–ì–ª–∞–≥–æ–ª—ã –¥–≤–∏–∂–µ–Ω–∏—è", plan: [] },
        { id: 6, date: "01 –ù–æ—è", time: "20:00", title: "Debate Club", loc: "Coworking", desc: "–¢–µ–º–∞: –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", plan: [] }
    ];

    // --- INIT ---
    window.onload = function() {
        renderSchedule();
        renderAlphabet();
    };

    function renderSchedule() {
        document.getElementById('schedule-container').innerHTML = meetings.map(m => `
            <div class="schedule-card" onclick="openMeeting(${m.id})">
                <div><div class="sc-date"><i class="far fa-calendar"></i> ${m.date}</div><div class="sc-title">${m.title}</div></div>
                <div class="sc-loc"><i class="fas fa-map-marker-alt"></i> ${m.loc} ‚Ä¢ ${m.time}</div>
            </div>
        `).join('');
    }

    function renderAlphabet() {
        document.getElementById('alphabet-grid').innerHTML = alphabet.map((l, idx) => `
            <div class="letter-card" onclick="openLetter(${idx})">
                <div class="letter-audio-mini" onclick="event.stopPropagation(); playAudio('${l.l.charAt(0)}')"><i class="fas fa-volume-up"></i></div>
                <div class="letter-big">${l.l}</div><div class="letter-trans">[${l.t}]</div>
            </div>
        `).join('');
    }

    // --- EXERCISE LOGIC (RESTORED) ---
    const exerciseDB = [
        { type: 'quiz', instruction: '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥', question: '–ö–∞–∫ –±—É–¥–µ—Ç "–û—Ç–µ—Ü"?', options: ['’Ñ’°’µ÷Ä', '’Ä’°’µ÷Ä', '’è’°’ø’´’Ø', '‘µ’≤’¢’°’µ÷Ä'], correctIndex: 1, explanation: '’Ä’°’µ÷Ä - –û—Ç–µ—Ü.' },
        { type: 'order', instruction: '–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ', question: '–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ: "–Ø –≤ –ø–æ—Ä—è–¥–∫–µ"', words: ['‘µ’Ω', '’ø’∏÷Ç’∂', '’¨’°’æ', '’•’¥'], correctOrder: ['‘µ’Ω', '’¨’°’æ', '’•’¥'], explanation: '–ü–æ–¥–ª–µ–∂–∞—â–µ–µ + –°–∫–∞–∑—É–µ–º–æ–µ.' },
        { type: 'input', instruction: '–ù–∞–ø–∏—à–∏—Ç–µ —Å–ª–æ–≤–æ', question: '–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ "–ú–∞–º–∞" (–Ω–∞ –∞—Ä–º—è–Ω—Å–∫–æ–º)', correctAnswer: '’Ñ’°’µ÷Ä', explanation: '–ü–∏—à–µ—Ç—Å—è ’Ñ-’°-’µ-÷Ä.' }
    ];
    let currentExIndex = 0; let userSelection = null; let isChecked = false;

    function startExercise() {
        document.getElementById('ex-setup').style.display = 'none';
        document.getElementById('ex-interface').style.display = 'block';
        currentExIndex = 0; loadExercise(0);
    }
    function stopExercise() {
        document.getElementById('ex-interface').style.display = 'none';
        document.getElementById('ex-setup').style.display = 'block';
    }
    function loadExercise(idx) {
        if(idx >= exerciseDB.length) { alert("–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!"); stopExercise(); return; }
        const data = exerciseDB[idx]; currentExIndex = idx; userSelection = null; isChecked = false;
        
        document.getElementById('ex-feedback').style.display = 'none';
        document.getElementById('btn-check').style.display = 'block'; document.getElementById('btn-check').disabled = true;
        document.getElementById('btn-next').style.display = 'none';
        document.getElementById('q-counter').innerText = `–í–æ–ø—Ä–æ—Å ${idx+1}/${exerciseDB.length}`;
        document.getElementById('ex-prog').style.width = `${(idx / exerciseDB.length) * 100}%`;
        document.getElementById('ex-inst').innerText = data.instruction;
        document.getElementById('ex-text').innerText = data.question;
        const content = document.getElementById('ex-content'); content.innerHTML = '';

        if(data.type === 'quiz') {
            const grid = document.createElement('div'); grid.className = 'quiz-grid';
            data.options.forEach((opt, i) => {
                const btn = document.createElement('div'); btn.className = 'quiz-option'; btn.innerText = opt;
                btn.onclick = () => selectQuizOption(i, btn); grid.appendChild(btn);
            });
            content.appendChild(grid); userSelection = -1;
        } else if (data.type === 'order') {
            userSelection = []; const area = document.createElement('div'); area.className = 'sentence-area'; area.id = 'sentence-area'; content.appendChild(area);
            const bank = document.createElement('div'); bank.className = 'word-bank';
            data.words.forEach((word, i) => {
                const chip = document.createElement('div'); chip.className = 'word-chip'; chip.innerText = word; chip.id = `word-${i}`;
                chip.onclick = () => addToSentence(word, i, chip); bank.appendChild(chip);
            });
            content.appendChild(bank);
        } else if (data.type === 'input') {
            const inp = document.createElement('input'); inp.type = 'text'; inp.className = 'ex-input'; inp.placeholder = '–û—Ç–≤–µ—Ç...';
            inp.oninput = (e) => { userSelection = e.target.value.trim(); document.getElementById('btn-check').disabled = userSelection.length === 0; };
            content.appendChild(inp); userSelection = '';
        }
    }
    function selectQuizOption(idx, el) { if(isChecked) return; document.querySelectorAll('.quiz-option').forEach(b => b.classList.remove('selected')); el.classList.add('selected'); userSelection = idx; document.getElementById('btn-check').disabled = false; }
    function addToSentence(word, id, el) { if(isChecked) return; userSelection.push(word); updateSentenceArea(); el.classList.add('used'); document.getElementById('btn-check').disabled = userSelection.length === 0; }
    function updateSentenceArea() { const area = document.getElementById('sentence-area'); area.innerHTML = ''; userSelection.forEach((w) => { const chip = document.createElement('div'); chip.className = 'word-chip in-sentence'; chip.innerText = w; area.appendChild(chip); }); }
    function checkAnswer() {
        isChecked = true; const data = exerciseDB[currentExIndex]; let isCorrect = false;
        if(data.type === 'quiz') isCorrect = (userSelection === data.correctIndex);
        else if(data.type === 'order') isCorrect = (userSelection.join(' ') === data.correctOrder.join(' '));
        else if(data.type === 'input') isCorrect = (userSelection.toLowerCase() === data.correctAnswer.toLowerCase());
        
        const fb = document.getElementById('ex-feedback'); fb.style.display = 'block'; fb.className = isCorrect ? 'feedback-sheet success' : 'feedback-sheet error';
        document.getElementById('fb-title').innerHTML = isCorrect ? '–í–µ—Ä–Ω–æ!' : '–û—à–∏–±–∫–∞';
        document.getElementById('fb-msg').innerText = isCorrect ? "–û—Ç–ª–∏—á–Ω–æ! " + data.explanation : data.explanation;
        document.getElementById('btn-check').style.display = 'none'; document.getElementById('btn-next').style.display = 'block';
    }
    function nextQuestion() { loadExercise(currentExIndex + 1); }

    // --- GAME LOGIC (RESTORED) ---
    let gameState = { active: false, mode: 'alias', score: {1:0, 2:0}, timer: 60, interval: null, words: ["’Ñ’°’µ÷Ä", "’Ä’°’µ÷Ä", "’è’∏÷Ç’∂", "‘∏’∂’ø’°’∂’´÷Ñ"] };
    function selectGameMode(el, mode) { document.querySelectorAll('.game-mode-card').forEach(c => c.classList.remove('selected')); el.classList.add('selected'); gameState.mode = mode; }
    function initGame() {
        gameState.active = true; gameState.score = {1:0, 2:0}; gameState.timer = 60;
        document.getElementById('game-lobby').style.display = 'none'; document.getElementById('game-active').style.display = 'block';
        updateScoreUI(); startRound();
    }
    function startRound() {
        clearInterval(gameState.interval); gameState.timer = 60; document.getElementById('timer-display').innerText = 60;
        document.getElementById('game-rule-text').innerText = gameState.mode === 'alias' ? "–û–±—ä—è—Å–Ω–∏ —Å–ª–æ–≤–∞–º–∏" : "–ü–æ–∫–∞–∂–∏ –∂–µ—Å—Ç–∞–º–∏";
        nextGameWord();
        gameState.interval = setInterval(() => { gameState.timer--; document.getElementById('timer-display').innerText = gameState.timer; if(gameState.timer<=0) { alert("–í—Ä–µ–º—è!"); startRound(); } }, 1000);
    }
    function nextGameWord() { document.getElementById('current-word').innerText = gameState.words[Math.floor(Math.random()*gameState.words.length)]; }
    function handleGameGuess(success) { if(success) gameState.score[1] += 10; updateScoreUI(); nextGameWord(); } // Simplified score
    function updateScoreUI() { document.getElementById('score-1').innerText = gameState.score[1]; document.getElementById('score-2').innerText = gameState.score[2]; }
    function exitGame() { clearInterval(gameState.interval); document.getElementById('game-active').style.display = 'none'; document.getElementById('game-lobby').style.display = 'block'; }

    // --- MODAL & ADMIN LOGIC ---
    let currentMeetingId = null;
    function openMeeting(id) {
        currentMeetingId = id; const m = meetings.find(x => x.id === id);
        document.getElementById('m-title').innerText = m.title; document.getElementById('m-desc').innerText = m.desc;
        switchMTab(0);
        
        // Render Table
        const tbody = document.querySelector('#plan-table-body tbody');
        tbody.innerHTML = '';
        if(m.plan && m.plan.length > 0) {
            m.plan.forEach(row => {
                tbody.innerHTML += `<tr><td>${row.t}</td><td>${row.a}</td></tr>`;
            });
        } else {
            tbody.innerHTML = `<tr><td colspan="2" style="color:#666; text-align:center;">–ü–ª–∞–Ω –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω</td></tr>`;
        }

        document.getElementById('m-files-list').innerHTML = `<div style="color:#666; font-size:0.9rem; margin-bottom:10px;">–ù–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</div>`;
        document.getElementById('meetingModal').style.display = 'flex';
    }

    function addTimelineRow() {
        const t = document.getElementById('admin-time').value;
        const a = document.getElementById('admin-act').value;
        if(!t || !a) return;
        
        // In real app, save to DB. Here, just append to DOM.
        const tbody = document.querySelector('#plan-table-body tbody');
        if(tbody.innerText.includes("–ü–ª–∞–Ω –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω")) tbody.innerHTML = '';
        
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${t}</td><td>${a}</td>`;
        tbody.appendChild(tr);
        
        // Update data object
        const m = meetings.find(x => x.id === currentMeetingId);
        if(!m.plan) m.plan = [];
        m.plan.push({t: t, a: a});
        
        document.getElementById('admin-act').value = '';
    }

    function addMaterialLink() {
        const url = document.getElementById('admin-link-url').value;
        const title = document.getElementById('admin-link-title').value;
        if(!url || !title) return;
        
        const list = document.getElementById('m-files-list');
        if(list.innerText.includes("–ù–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤")) list.innerHTML = '';
        
        const div = document.createElement('div');
        div.style.background = "rgba(255,255,255,0.05)"; div.style.padding = "10px"; div.style.marginBottom = "5px"; div.style.borderRadius = "8px";
        let icon = url.includes('youtube') ? 'fa-youtube' : 'fa-link';
        let color = url.includes('youtube') ? 'red' : 'var(--primary)';
        
        div.innerHTML = `<a href="${url}" target="_blank" style="color:#fff; text-decoration:none; display:flex; align-items:center;"><i class="fab ${icon}" style="color:${color}; margin-right:10px;"></i> ${title}</a>`;
        list.appendChild(div);
        
        document.getElementById('admin-link-url').value = ''; document.getElementById('admin-link-title').value = '';
    }

    function handleFileUpload(input) {
        if(input.files && input.files[0]) {
            const list = document.getElementById('m-files-list');
            if(list.innerText.includes("–ù–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤")) list.innerHTML = '';
            const div = document.createElement('div');
            div.style.background = "rgba(255,255,255,0.05)"; div.style.padding = "10px"; div.style.marginBottom = "5px"; div.style.borderRadius = "8px";
            div.innerHTML = `<i class="fas fa-file-alt" style="color:var(--primary)"></i> <span style="margin-left:5px">${input.files[0].name}</span>`;
            list.appendChild(div);
        }
    }

    // --- HELPERS ---
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function switchTab(id, bgIndex, el) { document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); document.getElementById(`tab-${id}`).classList.add('active'); document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active')); el.classList.add('active'); const bgs=['https://images.unsplash.com/photo-1526721966451-2a6288597f7f?q=80&w=1000','https://images.unsplash.com/photo-1544947950-fa07a98d237f?q=80&w=1000','https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?q=80&w=1000','https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=1000','https://images.unsplash.com/photo-1577563908411-5077b6dc7624?q=80&w=1000','https://images.unsplash.com/photo-1483058712412-4245e9b90334?q=80&w=1000']; document.body.style.backgroundImage = `url(${bgs[bgIndex]})`; }
    function switchLearnTab(tabName, btn) { document.querySelectorAll('.sub-tab-btn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); document.querySelectorAll('.learn-content').forEach(c => c.classList.remove('active')); document.getElementById(`learn-${tabName}`).classList.add('active'); }
    function toggleTopic(header) { const body = header.nextElementSibling; const icon = header.querySelector('i'); if (body.style.display === 'block') { body.style.display = 'none'; icon.classList.remove('fa-chevron-up'); icon.classList.add('fa-chevron-down'); } else { body.style.display = 'block'; icon.classList.remove('fa-chevron-down'); icon.classList.add('fa-chevron-up'); } }
    function switchMTab(idx) { document.querySelectorAll('.m-tab').forEach((t, i) => t.classList.toggle('active', i === idx)); document.querySelectorAll('.m-section').forEach((s, i) => s.classList.toggle('active', i === idx)); }
    function openLetter(idx) { const l = alphabet[idx]; document.getElementById('letter-detail-content').innerHTML = `<div class="ld-main">${l.l}</div><div class="ld-trans">[${l.t}]</div><button class="primary-btn" style="width:auto; margin-bottom:20px;" onclick="playAudio('${l.l.charAt(0)}')"><i class="fas fa-play"></i> –°–ª—É—à–∞—Ç—å</button><div class="ld-examples"><div style="font-size:0.8rem; color:#888; margin-bottom:5px;">–ü–†–ò–ú–ï–†–´:</div><div class="ld-row"><span style="color:#fff; font-weight:bold;">${l.ex.split(' ')[0]}</span><span style="color:#aaa;">${l.ex.split(' ').slice(1).join(' ')}</span></div></div>`; document.getElementById('letterModal').style.display = 'flex'; playAudio(l.l.charAt(0)); }
    function playAudio(text) { if ('speechSynthesis' in window) { const u = new SpeechSynthesisUtterance(text); u.lang = 'hy-AM'; window.speechSynthesis.speak(u); } }

</script>
</body>
</html>
